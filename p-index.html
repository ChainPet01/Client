<!-- <div class="d-sm-none mb-header"></div> -->
<div class="container-lg-fluid mx-4">
    <!-- Banner -->
    <div class="row">
        <div id="banner" class="carousel slide banner pb-0 pb-md-5 " data-bs-ride="carousel">
            <ol class="carousel-indicators">
                <li data-bs-target="#banner" data-bs-slide-to="0" class="active"></li>
                <li data-bs-target="#banner" data-bs-slide-to="1"></li>
                <li data-bs-target="#banner" data-bs-slide-to="2"></li>
            </ol>
            <div class="carousel-inner rounded-2 blue-border overflow-hidden">
                    <div class="carousel-item active">
                        <a target="_blank" href="https://spaceelves.chainpet.com">
                        <div class="d banner-title-2">
                            <s langtest="Home-Banner3-1">new start,</s><br>
                            <s langtest="Home-Banner3-2">shock struck!!!</s><br>
                            <s langtest="Home-Banner3-3"></s>
                        </div>
                            <img src="images/banner3.jpg" class="img-fluid">
                        </a>
                    </div>
                <div class="carousel-item">
                    <div class="d banner-title">
                        <s langtest="Home-Banner1-1">Interstellar</s><br>
                        <s langtest="Home-Banner1-2">battleground</s><br>
                        <s langtest="Home-Banner1-3">ready to explode</s>
                    </div>
                    <img src="images/banner.jpg" class="img-fluid">
                </div>
                <div class="carousel-item">
                    <img src="images/banner2.jpg" class="img-fluid">
                </div>
            </div>
        </div>
    </div>

    <!-- 游戏 -->
    <div class="d-flex align-items-center my-0 my-md-5 pt-4 d-h1">
        <h1 class="d"><s langtest="Nav-Games">Games</s></h1>
        <!-- <a class="btn btn-primary rounded-pill px-4 ms-auto" href="#"><s langtest="Home-View-More">View more</s></a> -->
    </div>

    <div class="row row-cols-2 row-cols-sm-3">
        <!-- <div class="row"> -->
        <a target="_blank" href="https://spaceelves.chainpet.com">
            <div class="col mb-4">
                <div class="d-game">
                    <img class="img-fluid mx-auto d-block" src="images/a.jpg" alt="">
                    <p class="d-none d-sm-block"><s langtest="Nav-Game1">Space Elves (beta 1.0) </s></p>
                </div>
            </div>
        </a>
        <div class="col mb-4">
            <div class="d-game">
                <!-- <img class="img-fluid mx-auto d-block" src="images/b.png" alt=""> -->
                <img class="img-fluid mx-auto d-block" src="images/c.png" alt="">
                <p class="d-none d-sm-block" style="color: darkgray;"><s langtest="Nav-Game2">Forest Maze</s></p>
            </div>
        </div>
        <div class="col mb-4 d-none d-sm-block">
            <div class="d-game">
                <img class="img-fluid mx-auto d-block" src="images/c.png" alt="">
                <p class="d-none d-sm-block" style="color: darkgray;"><s langtest="Nav-Game3">Coming soon</s></p>
            </div>
        </div>
    </div>

    <!-- 关于 -->
    <div class="py-5 d-none d-sm-block"></div>
    <div class="row blue-border d-about my-2 my-md-5 py-3 py-md-5 mx-0 rounded-2">
        <div class="col-12 col-sm-4">
            <img class="img-fluid aboutimg mx-auto" src="images/about.png" alt="">
        </div>
        <div class="col-12 col-sm-8">
            <h1 class="d-abouth1 d pt-2 pt-md-5 text-center text-sm-start"><s langtest="Home-About-Chain-Pet">About
                    Chain
                    Pet</s></h1>
            <div class="text-center text-sm-start abouttxt"><s langtest="Home-About-Info-1">Chain Pet is a cute creature
                    from an
                    alien universe, and users around the world can earn rewards through superb game skills and
                    ecological contribution index.</s>
                <div class="w-100 py-1"></div>
                <s langtest="Home-About-Info-2">Players can build their own planet by upgrading, domesticating, raising
                    and fighting their pets.</s>
            </div>
        </div>
    </div>
    <div class="py-3 d-none d-sm-block"></div>

    <!-- 宝箱 -->
    <div class="d-flex align-items-center my-2 my-md-5 pt-4 d-h1">
        <h1 class="d"><s langtest="Nav-Box">Boxes</s></h1>
        <a class="btn btn-primary rounded-pill px-4 ms-auto" href="#page-box-ordinary"
            onclick="openpage(KEY_ORDINARY)"><s langtest="Home-View-More">View more</s></a>
    </div>

    <div class="row row-cols-2 row-cols-sm-4 d-box">
        <div class="col">
            <a href="#">
                <div class="a">
                    <img class="img-fluid d-block" src="images/Seq_B0X_1.png" alt="">
                </div>
            </a>
            <div class="d-box-title d text-center py-2 py-sm-4"><s langtest="Home-Ordinary-Elves-Box">ordinary elves
                    box</s></div>
        </div>
        <div class="col">
            <a href="#">
                <div class="b">
                    <img class="img-fluid d-block" src="images/Seq_B0X_2.png" alt="">
                </div>
            </a>
            <div class="d-box-title d text-center py-2 py-sm-4"><s langtest="Home-Precious-Elves-Box">precious elves
                    box</s></div>
        </div>
        <div class="col">
            <a href="#">
                <div class="c">
                    <img class="img-fluid d-block" src="images/Seq_B0X_3.png" alt="">
                </div>
            </a>
            <div class="d-box-title d text-center py-2 py-sm-4"><s langtest="Home-Ordinary-Gems-Box">ordinary gems
                    box</s></div>
        </div>
        <div class="col">
            <a href="#">
                <div class="z">
                    <img class="img-fluid d-block" src="images/Seq_B0X_4.png" alt="">
                </div>
            </a>
            <div class="d-box-title d text-center py-2 py-sm-4"><s langtest="Home-Precious-Gems-Box">precious gems
                    box</s></div>
        </div>

    </div>
    <div class="w-100"></div>
    <!-- 竞拍 -->
    <div class="d-flex align-items-center my-2 my-md-5 pt-4 d-h1">
        <h1 class="d"><s langtest="Nav-Auction">NFT Auction</s></h1>
        <a class="btn btn-primary rounded-pill px-4 ms-auto" href="#page-nft-auction" onclick="openpage(KEY_AUCTION)"><s
                langtest="Home-View-More">View more</s></a>
    </div>
    <div class="row blue-border d-auction mt-2 my-md-5 pt-3 py-md-5 mx-0 rounded-2">
        <div class="col-12 col-sm-6">
            <div class="col text-center auction-left position-relative">
                <div class="light" id="auctionGoodsImgLightIndex"></div>
                <img class="img-fluid d-auctionimg look-black-2" src="images/elves/BlackStegosaurusDragon.gif" alt=""
                    id="auctionGoodsImgIndex">
                <p class="mb-0 py-2 mt-4 h3" id="remainingTimeAcutionIndex" langtest="Remaining time : 00:00:00">
                    Remaining time :
                    00:00:00</p>
            </div>
        </div>
        <div class="col-12 col-sm-6 text-light">
            <h3 class="mt-md-4 py-md-4 d-jingpaitxt"><i class="i">&nbsp;</i><s id="auctionNameIndex"
                    langtest="Flaming Crystal Dragon">Flaming Crystal Dragon</s></h3>
            <div class="row biaogecenter">
                <table class="table table-striped m-0 align-middle d-jingpaitxt">
                    <tbody>
                        <tr>
                            <td class="col-4"><s langtest="Author">Author</s></td>
                            <td class="text-truncate table-td" id="auctionAuthorIndex">
                                0x91589c1a1e907746495ac731f4719d8fcab78e88</td>
                        </tr>
                        <tr>
                            <td><s langtest="Best Bid">Best Bid</s></td>
                            <td class="text-truncate table-td" id="auctionBestBidIndex"></td>
                        </tr>
                        <tr>
                            <td><s langtest="Price">Price</s></td>
                            <td class="text-truncate table-td"><s id="auctionPriceIndex">100</s><img
                                    class=" ps-1 bp-1 w-30px" src="images/bnb.svg">
                            </td>
                        </tr>
                        <tr>
                            <td><s langtest="Contract Address">Contract Address</s></td>
                            <td class="text-truncate table-td" id="auctionContractAdderssIndex">
                                QmXAdHWrP6uqETdkaiPuKGb3xXhK2xeED4YpJ7tJpfyx7b</td>
                        </tr>
                        <tr>
                            <td><s langtest="Token ID">Token ID</s></td>
                            <td id="auctionTokenIdIndex">1000606000000</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="py-3 d-none d-sm-block"></div>

    <!-- 精灵 -->
    <div class="d-flex align-items-center my-2 my-md-5 pt-4 d-h1">
        <h1 class="d"><s langtest="Nav-Market">NFT Market</s></h1>
        <a class="btn btn-primary rounded-pill px-4 ms-auto" href="#page-nft-market-elves"
            onclick="openpage(KEY_ELVES)"><s langtest="Home-View-More">View more</s></a>
    </div>

    <div class="row row-cols-2 row-cols-sm-4 d-elves" id="p-index-nft-market-elves">

        <!-- <div class="col mb-5">
            <div class="a">
                <img class="img-fluid d-block look-green-2" src="images/elves/Red parrot dragon.gif" alt="">
            </div>
            <div class="d-box-title d text-center py-2 py-sm-4">Green armor dragon</div>
            <div class="d-flex text-white px-sm-4">
                <div>Auction amount</div>
                <div class="ms-auto">0.024 <span class="font_family icon-bnb text-warning ps-1"></span></div>
            </div>
            <div class="d-flex text-white px-sm-4">
                <div>Auction countdown</div>
                <div class="ms-auto">00 : 34 : 21</div>
            </div>
        </div>
        <div class="col mb-5">
            <div class="b">
                <img class="img-fluid d-block look-orange-2" src="images/elves/Red manta dragon.gif" alt="">
            </div>
            <div class="d-box-title d text-center py-2 py-sm-4">Orange scorpion dragon</div>
            <div class="d-flex text-white px-sm-4">
                <div>Auction amount</div>
                <div class="ms-auto">0.024 <span class="font_family icon-bnb text-warning ps-1"></span></div>
            </div>
            <div class="d-flex text-white px-sm-4">
                <div>Auction countdown</div>
                <div class="ms-auto">00 : 34 : 21</div>
            </div>
        </div>
        <div class="col mb-5">
            <div class="c">
                <img class="img-fluid d-block look-red-2" src="images/elves/Purple scorpion dragon.gif" alt="">
            </div>
            <div class="d-box-title d text-center py-2 py-sm-4">Orange tick dragon</div>
            <div class="d-flex text-white px-sm-4">
                <div>Auction amount</div>
                <div class="ms-auto">0.024 <span class="font_family icon-bnb text-warning ps-1"></span></div>
            </div>
            <div class="d-flex text-white px-sm-4">
                <div>Auction countdown</div>
                <div class="ms-auto">00 : 34 : 21</div>
            </div>
        </div>
        <div class="col mb-5">
            <div class="z">
                <img class="img-fluid d-block look-red-2" src="images/elves/White manta dragon.gif" alt="">
            </div>
            <div class="d-box-title d text-center py-2 py-sm-4">Orange tick dragon</div>
            <div class="d-flex text-white px-sm-4">
                <div>Auction amount</div>
                <div class="ms-auto">0.024 <span class="font_family icon-bnb text-warning ps-1"></span></div>
            </div>
            <div class="d-flex text-white px-sm-4">
                <div>Auction countdown</div>
                <div class="ms-auto">00 : 34 : 21</div>
            </div>
        </div> -->

    </div>

    <!-- 脚注 -->
    <div class="row text-center mt-2 text-white">
        <div class="col-12 d-footer py-4 mt-5 rounded-bottom rounded-2">Incubated By <img class="d-inline"
                style="width: 50px;" src="images/logo.png" alt="">
            Copyright © 2021 Chainpet.com All Rights Reserved</div>
    </div>
</div>


<div id="page-footer"></div>
<!-- 包含 Popper 的 Bootstrap 集成包 -->

<script>
    var isStartTimeIndex = false;
    // requestData();
    function requestData() {
        shopIndex(function (result) {
            if (result.code == 200) {
                updateIndexAuction(result.data.auctionDTO);
                updateIndexElvesList(result.data.marketDTO);
            }
            else {
                // cocoMessage.warning(result.message, 0);
                $.message({
                    message: result.message,
                    type: 'warning'
                });
            }
        });
        // marketListData("elf", 1, function (result) {
        //     if (result.code == 200) {
        //         updateIndexElvesList(result);
        //     }
        //     else {
        //         cocoMessage.warning(result.message, 0);
        //     }
        // });
    }
    function updateIndexAuction(result) {
        var name = result.name;
        var nickname = result.nickname;
        if (name == null) { //没有物品在竞拍 
            $("#auctionNameIndex").text('');
            $("#auctionAuthorIndex").text('');
            $("#auctionBestBidIndex").text('');
            $("#auctionPriceIndex").text('');
            $("#auctionContractAdderssIndex").text('');
            $("#auctionTokenIdIndex").text('');
            // var text = get_str("Auction has not started")
            // $("#remainingTimeAcutionIndex").text(text);
            // $("#remainingTimeAcutionIndex").attr("langtest", text);
            var rt = get_str('Remaining time');
            $("#remainingTimeAcutionIndex").text(rt + ' : 00:00:00');
            $("#remainingTimeAcutionIndex").attr("langtest", 'Remaining time : 00:00:00');
        } else {
            var type = result.type;
            var sellUser = result.sellUserName;
            var buyUser = result.buyUserName;
            var price = result.price;
            var remainingTime = result.remainingTime;
            var lastTime = result.lastTime;
            var contractAdderss = result.contractAddress;
            var tokenId = result.hash;

            _price = price;

            var nn = get_str(nickname);
            $("#auctionNameIndex").text(nn);
            $("#auctionNameIndex").attr("langtest", nickname);
            $("#auctionAuthorIndex").text(sellUser);
            $("#auctionBestBidIndex").text(buyUser);
            $("#auctionPriceIndex").text(price);
            $("#auctionContractAdderssIndex").text(contractAdderss);
            $("#auctionTokenIdIndex").text("#" + tokenId);
            var rt = get_str('Remaining time');
            if (result.remainingTime <= 0) {
                $("#remainingTimeAcutionIndex").text(rt + ' : 00:00:00');
                $("#remainingTimeAcutionIndex").attr("langtest", 'Remaining time : 00:00:00');
            }
            else {
                $("#remainingTimeAcutionIndex").attr("langtest", 'Remaining time');
                var chestMaxtime = result.remainingTime / 1000; //换算成秒
                if (!isStartTimeIndex) {
                    if (chestMaxtime > 0) {
                        CountDown(chestMaxtime, function (time, currTime) {
                            chestMaxtime = currTime;
                            $("#remainingTimeAcutionIndex").text(rt + ' : ' + time);
                        });
                        if (window.indexAuctionInterval != undefined && window.indexAuctionInterval != null) {
                            clearInterval(window.indexAuctionInterval);
                        }
                        window.indexAuctionInterval = setInterval(function () {
                            var rt = get_str('Remaining time');
                            CountDown(chestMaxtime, function (time, currTime) {
                                chestMaxtime = currTime;
                                $("#remainingTimeAcutionIndex").text(rt + ' : ' + time);
                            });
                        }, 1000);
                    }
                    isStartTimeIndex = true;
                }
            }
            $("#auctionGoodsImgLightIndex").removeClass("light");
            $("#auctionGoodsImgIndex").removeClass('look-white-2');
            $("#auctionGoodsImgIndex").removeClass("look-green-2");
            $("#auctionGoodsImgIndex").removeClass("look-pepur-2");
            $("#auctionGoodsImgIndex").removeClass("look-orange-2");
            $("#auctionGoodsImgIndex").removeClass("look-red-2");
            $("#auctionGoodsImgIndex").removeClass("look-black-2");
            if (type == 'elf') {
                var level = result.level;
                var look_color = '';
                switch (level) {
                    case 1:
                        look_color = 'look-white-2';
                        break;
                    case 2:
                        look_color = 'look-green-2';
                        break;
                    case 3:
                        look_color = 'look-pepur-2';
                        break;
                    case 4:
                        look_color = 'look-orange-2';
                        break;
                    case 5:
                        look_color = 'look-red-2';
                        break;
                    case 6:
                        look_color = 'look-black-2';
                        break;
                }
                $("#auctionGoodsImgIndex").attr("src", "images/elves/" + name + ".gif");
                $("#auctionGoodsImgIndex").addClass(look_color);

                $("#auctionGoodsImgLightIndex").addClass("light");


            } else {
                $("#auctionGoodsImgIndex").attr("src", "images/energys/" + name + "2.png");
            }

        }
    }
    /**
     * 更新出售精灵列表
     * */
    function updateIndexElvesList(result) {
        $("#p-index-nft-market-elves").children().remove();
        var list = result.goodsDTOList;
        for (var i = 0; i < list.length && i < 4; i++) {
            var name = list[i].name;
            var nickname = list[i].nickname;
            var level = list[i].level;
            var price = list[i].price;
            var power = list[i].power;
            var look_color = '';
            var bgCss = "a";
            if (i == 0) {
                bgCss = "b";
            }
            else if (i == 1) {
                bgCss = "c";
            }
            else if (i == 2) {
                bgCss = "z";
            }
            switch (level) {
                case 1:
                    look_color = 'look-white-2';
                    break;
                case 2:
                    look_color = 'look-green-2';
                    break;
                case 3:
                    look_color = 'look-pepur-2';
                    break;
                case 4:
                    look_color = 'look-orange-2';
                    break;
                case 5:
                    look_color = 'look-red-2';
                    break;
                case 6:
                    look_color = 'look-black-2';
                    bgCss = "s-market-box-black";
                    break;
            }
            var nn = get_str(nickname);
            var p1 = get_str("Price");
            var p2 = get_str("Power");

            // var insertText =
            //         "<div class=\"col mb-4\"> \
            //             <div class='s-market-box'> \
            //                 <a href=\"#\" data-bs-toggle=\"modal\" data-bs-target=\"#look\" onclick ='marketElvesInfo(" + JSON.stringify(list[i]) + ")'> \
            //                     <div class=\""+ bgCss + "\"> \
            //                         <img class=\"img-fluid  " + look_color + " p-0\" src=\"images/elves/" + name + ".gif\" alt=\"\">\
            //                     </div> \
            //                     <div class='d-box-title text-truncate d text-center py-2 py-sm-4'><s langtest='"+ nickname + "'>" + nn + "</s></div> \
            //                     <div class=\"d-flex text-white text-truncate py-1 py-md-2 px-3\"><div><s>" + power + "X</s></div><div class=\"ms-auto ps-2\"><s>" + price + "</s><small><img class=\" ps-2 bp-1\" style=\"width: 26px;\" src=\"images/cpet.png\"> </small></div></div>\
            //                 </a> \
            //             </div> \
            //         </div>"
            var insertText =
                "<div class='col mb-5'> \
                    <div class='"+ bgCss + "'> \
                        <img class='img-fluid d-block "+ look_color + "' src='images/elves/" + name + ".gif' alt=''> \
                    </div> \
                    <div class='d-box-title text-truncate d text-center py-2 py-sm-4'><s langtest='"+ nickname + "'>" + nn + "</s></div> \
                    <div class='d-flex text-white px-sm-4'> \
                        <div><s langtest='Price'>"+ p1 + "</s></div> \
                        <div class='ms-auto'>"+ price + "CPET</div> \
                    </div> \
                    <div class='d-flex text-white px-sm-4'> \
                        <div><s langtest='Power'>"+ p2 + "</s></div> \
                        <div class='ms-auto'>"+ power + "X</div> \
                    </div> \
                </div>";
            $("#p-index-nft-market-elves").append(insertText);
        }
    }
</script>